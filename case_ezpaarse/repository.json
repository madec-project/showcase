{
   "title": "ezPAARSE - Analyse des fichiers de log",
   "description": "Logs ezPAARSE - Configuration Modèle",
   "itemsPerPage": 25,
   "documentFields": {
      "$date": {
         "visible": true,
         "path": "content.json.date",
         "label": "date"
      },
      "$dateSansTiret": {
         "path": "content.json.date",
         "replace": [
            "-",
            ""
         ],
         "cast": "number"
      },
      "$title": {
         "visible": true,
         "path": "content.json.platform_name",
         "label": "platform_name"
      },
      "$rtype": {
         "visible": true,
         "path": "content.json.rtype",
         "label": "rtype"
      },
      "$mime": {
         "visible": true,
         "path": "content.json.mime",
         "label": "mime"
      },
      "$print_identifier": {
         "visible": true,
         "path": "content.json.print_identifier",
         "label": "print_identifier"
      },
      "$online_identifier": {
         "visible": true,
         "path": "content.json.online_identifier",
         "label": "online_identifier"
      },
      "$publication_title": {
         "visible": true,
         "path": "content.json.publication_title",
         "label": "publication_title"
      },
      "$domain": {
         "visible": true,
         "path": "content.json.domain",
         "label": "domain"
      },
      "$geoip-country": {
         "label": "geoip-country",
         "path": "content.json.geoip-country",
         "parseCSV": ";",
         "remove": "",
         "foreach": {
            "trim": true,
            "mapping": {
               "AF": "Afghanistan",
               "AX": "Aland Islands",
               "AL": "Albania",
               "DZ": "Algeria",
               "AS": "American Samoa",
               "AD": "Andorra",
               "AO": "Angola",
               "AI": "Anguilla",
               "AQ": "Antarctica",
               "AG": "Antigua and Barbuda",
               "AR": "Argentina",
               "AM": "Armenia",
               "AW": "Aruba",
               "AU": "Australia",
               "AT": "Austria",
               "AZ": "Azerbaijan",
               "BS": "Bahamas",
               "BH": "Bahrain",
               "BD": "Bangladesh",
               "BB": "Barbados",
               "BY": "Belarus",
               "BE": "Belgium",
               "BZ": "Belize",
               "BJ": "Benin",
               "BM": "Bermuda",
               "BT": "Bhutan",
               "BO": "Bolivia",
               "BA": "Bosnia and Herzegovina",
               "BW": "Botswana",
               "BV": "Bouvet Island",
               "BR": "Brazil",
               "IO": "British Indian Ocean Territory",
               "BN": "Brunei Darussalam",
               "BG": "Bulgaria",
               "BF": "Burkina Faso",
               "BU": "Burma",
               "BI": "Burundi",
               "KH": "Cambodia",
               "CM": "Cameroon",
               "CA": "Canada",
               "CT": "Canton and Enderbury, Islands",
               "CV": "Cape Verde",
               "KY": "Cayman Islands",
               "CF": "Central African Republic",
               "TD": "Chad",
               "CL": "Chile",
               "CN": "China",
               "CX": "Christmas Island",
               "CC": "Cocos (Keeling) Islands",
               "CO": "Colombia",
               "KM": "Comoros",
               "CG": "Congo",
               "CD": "Congo,  the Democratic Republic of",
               "CK": "Cook Islands",
               "CR": "Costa Rica",
               "CI": "Cote d'Ivoire",
               "HR": "Croatia",
               "CU": "Cuba",
               "CY": "Cyprus",
               "CZ": "Czech Republic",
               "DK": "Denmark",
               "DJ": "Djibouti",
               "DM": "Dominica",
               "DO": "Dominican Republic",
               "TP": "East Timor",
               "EC": "Ecuador",
               "EG": "Egypt",
               "SV": "El Salvador",
               "GQ": "Equatorial Guinea",
               "ER": "Eritrea",
               "EE": "Estonia",
               "ET": "Ethiopia",
               "XE": "Europe",
               "FK": "Falkland Islands (Malvinas)",
               "FO": "Faroe Islands",
               "FJ": "Fiji",
               "FI": "Finland",
               "FR": "France",
               "FX": "France Metropolitan",
               "GF": "French Guiana",
               "PF": "French Polynesia",
               "TF": "French Southern Territories",
               "GA": "Gabon",
               "GM": "Gambia",
               "GE": "Georgia",
               "DD": "German Democratic Republic",
               "DE": "Germany",
               "GH": "Ghana",
               "GI": "Gibraltar",
               "GR": "Greece",
               "GL": "Greenland",
               "GD": "Grenada",
               "GP": "Guadeloupe",
               "GU": "Guam",
               "GT": "Guatemala",
               "GN": "Guinea",
               "GW": "Guinea-Bissau",
               "GY": "Guyana",
               "HT": "Haiti",
               "HM": "Heard Island and Mcdonald Islands",
               "VA": "Holy See (Vatican City State)",
               "HN": "Honduras",
               "HK": "Hong-Kong",
               "HU": "Hungary",
               "IS": "Iceland",
               "IN": "India",
               "ID": "Indonesia",
               "XA": "International",
               "IR": "Iran, Islamic Republic of",
               "IQ": "Iraq",
               "IE": "Ireland",
               "IL": "Israel",
               "IT": "Italy",
               "JM": "Jamaica",
               "JP": "Japan",
               "JT": "Johnston Island",
               "JO": "Jordan",
               "KZ": "Kazakhstan",
               "KE": "Kenya",
               "KI": "Kiribati",
               "KP": "Korea, Democratic People's Republic",
               "KR": "Korea, Republic of",
               "KW": "Kuwait",
               "KG": "Kyrgyzstan",
               "LA": "Lao People's Democratic Republic",
               "LV": "Latvia",
               "LB": "Lebanon",
               "LS": "Lesotho",
               "LR": "Liberia",
               "LY": "Libyan Arab Jamahiriya",
               "LI": "Liechtenstein",
               "LT": "Lithuania",
               "LU": "Luxembourg",
               "MO": "Macao",
               "MK": "Macedonia,  the Former Yugoslave Republic of",
               "MG": "Madagascar",
               "MW": "Malawi",
               "MY": "Malaysia",
               "MV": "Maldives",
               "ML": "Mali",
               "MT": "Malta",
               "MH": "Marshall Islands",
               "MQ": "Martinique",
               "MR": "Mauritania",
               "MU": "Mauritius",
               "YT": "Mayotte",
               "MX": "Mexico",
               "FM": "Micronesia, Federated States of",
               "MI": "Midway Islands",
               "MD": "Moldova, Republic of",
               "MC": "Monaco",
               "MN": "Mongolia",
               "ME": "Montenegro",
               "MS": "Montserrat",
               "MA": "Morocco",
               "MZ": "Mozambique",
               "MM": "Myanmar",
               "NA": "Namibia",
               "NR": "Nauru",
               "NP": "Nepal",
               "NL": "Netherlands",
               "AN": "Netherlands Antilles",
               "NT": "Neutral Zone",
               "NC": "New Caledonia",
               "NH": "New Hebrides",
               "NZ": "New Zealand",
               "NI": "Nicaragua",
               "NE": "Niger",
               "NG": "Nigeria",
               "NU": "Niue",
               "NF": "Norfolk Island",
               "MP": "Northern Mariana Islands",
               "NO": "Norway",
               "OM": "Oman",
               "PC": "Pacific Islands (Trust Territory)",
               "PK": "Pakistan",
               "PW": "Palau",
               "PS": "Palestinian Territory, Occupied",
               "PA": "Panama",
               "PZ": "Panama Canal Zone",
               "PG": "Papua New Guinea",
               "PY": "Paraguay",
               "PE": "Peru",
               "PH": "Philippines",
               "PN": "Pitcairn",
               "PL": "Poland",
               "PT": "Portugal",
               "PR": "Puerto Rico",
               "QA": "Qatar",
               "NQ": "Queen Maud Territory",
               "RE": "Reunion",
               "RO": "Romania",
               "RU": "Russian Federation",
               "RW": "Rwanda",
               "SH": "Saint Helena",
               "KN": "Saint Kitts and Nevis",
               "LC": "Saint Lucia",
               "PM": "Saint Pierre and Miquelon",
               "VC": "Saint Vincent and the Grenadines",
               "WS": "Samoa",
               "SM": "San Marino",
               "ST": "Sao Tome and Principe",
               "SA": "Saudi Arabia",
               "SN": "Senegal",
               "RS": "Serbia",
               "CS": "Serbia and Montenegro",
               "SC": "Seychelles",
               "SL": "Sierra Leone",
               "SG": "Singapore",
               "SK": "Slovakia",
               "SI": "Slovenia",
               "SB": "Solomon Islands",
               "SO": "Somalia",
               "ZA": "South Africa",
               "GS": "South Georgia and  the South Sandwich Islands",
               "RH": "Southern Rhodesia",
               "ES": "Spain",
               "LK": "Sri Lanka",
               "SD": "Sudan",
               "SR": "Suriname",
               "SJ": "Svalbard and Jan Mayen",
               "SZ": "Swaziland",
               "SE": "Sweden",
               "CH": "Switzerland",
               "SY": "Syrian Arab Republic",
               "TJ": "Tajikistan",
               "TZ": "Tanzania, United Republic of",
               "TW": "Tawain, Province of China",
               "TH": "Thailand",
               "TL": "Timor Leste",
               "TG": "Togo",
               "TK": "Tokelau",
               "TO": "Tonga",
               "TT": "Trinidad and Tobago",
               "TN": "Tunisia",
               "TR": "Turkey",
               "TM": "Turkmenistan",
               "TC": "Turks and Caicos Islands",
               "TV": "Tuvalu",
               "UG": "Uganda",
               "UA": "Ukraine",
               "AE": "United Arab Emirates",
               "GB": "United Kingdom",
               "US": "United States",
               "PU": "United States Miscellaneous Pacific Islands",
               "UM": "Unites States Minor Outlying Islands",
               "XX": "Unknown",
               "HV": "Upper Volta",
               "UY": "Uruguay",
               "SU": "USSR",
               "UZ": "Uzbekistan",
               "VU": "Vanuatu",
               "VE": "Venezuela",
               "VN": "Viet Nam",
               "VD": "Viet-Nam, Democratic Republic of",
               "VG": "Virgin Islands, British",
               "VI": "Virgin Islands, U.S.",
               "WF": "Wallis and Futuna",
               "EH": "Western Sahara",
               "YE": "Yemen",
               "YD": "Yemen, Democratic",
               "YU": "Yugoslavia",
               "ZR": "Zaire",
               "ZM": "Zambia",
               "ZW": "Zimbabwe"
            }
         }
      },
      "$PaysCarto": {
         "label": "PaysCarto",
         "path": "content.json.geoip-country",
         "parseCSV": ";",
         "remove": "",
         "foreach": {
            "trim": true,
            "mapping": {
               "AD": "AND",
               "AE": "ARE",
               "AF": "AFG",
               "AG": "ATG",
               "AI": "AIA",
               "AL": "ALB",
               "AM": "ARM",
               "AN": "ANT",
               "AO": "AGO",
               "AQ": "ATA",
               "AR": "ARG",
               "AS": "ASM",
               "AT": "AUT",
               "AU": "AUS",
               "AW": "ABW",
               "AX": "ALA",
               "AZ": "AZE",
               "BA": "BIH",
               "BB": "BRB",
               "BD": "BGD",
               "BE": "BEL",
               "BF": "BFA",
               "BG": "BGR",
               "BH": "BHR",
               "BI": "BDI",
               "BJ": "BEN",
               "BM": "BMU",
               "BN": "BRN",
               "BO": "BOL",
               "BR": "BRA",
               "BS": "BHS",
               "BT": "BTN",
               "BU": "BUR",
               "BV": "BVT",
               "BW": "BWA",
               "BY": "BLR",
               "BZ": "BLZ",
               "CA": "CAN",
               "CC": "CCK",
               "CD": "COD",
               "CF": "CAF",
               "CG": "COG",
               "CH": "CHE",
               "CI": "CIV",
               "CK": "COK",
               "CL": "CHL",
               "CM": "CMR",
               "CN": "CHN",
               "CO": "COL",
               "CR": "CRI",
               "CS": "SCG",
               "CT": "CTE",
               "CU": "CUB",
               "CV": "CPV",
               "CX": "CXR",
               "CY": "CYP",
               "CZ": "CZE",
               "DD": "DDR",
               "DE": "DEU",
               "DJ": "DJI",
               "DK": "DNK",
               "DM": "DMA",
               "DO": "DOM",
               "DZ": "DZA",
               "EC": "ECU",
               "EE": "EST",
               "EG": "EGY",
               "EH": "ESH",
               "ER": "ERI",
               "ES": "ESP",
               "ET": "ETH",
               "FI": "FIN",
               "FJ": "FJI",
               "FK": "FLK",
               "FM": "FSM",
               "FO": "FRO",
               "FR": "FRA",
               "FX": "FXX",
               "GA": "GAB",
               "GB": "GBR",
               "GD": "GRD",
               "GE": "GEO",
               "GF": "GUF",
               "GH": "GHA",
               "GI": "GIB",
               "GL": "GRL",
               "GM": "GMB",
               "GN": "GIN",
               "GP": "GLP",
               "GQ": "GNQ",
               "GR": "GRC",
               "GS": "SGS",
               "GT": "GTM",
               "GU": "GUM",
               "GW": "GNB",
               "GY": "GUY",
               "HK": "HKG",
               "HM": "HMD",
               "HN": "HND",
               "HR": "HRV",
               "HT": "HTI",
               "HU": "HUN",
               "HV": "HVO",
               "ID": "IDN",
               "IE": "IRL",
               "IL": "ISR",
               "IN": "IND",
               "IO": "IOT",
               "IQ": "IRQ",
               "IR": "IRN",
               "IS": "ISL",
               "IT": "ITA",
               "JM": "JAM",
               "JO": "JOR",
               "JP": "JPN",
               "JT": "JTN",
               "KE": "KEN",
               "KG": "KGZ",
               "KH": "KHM",
               "KI": "KIR",
               "KM": "COM",
               "KN": "KNA",
               "KP": "PRK",
               "KR": "KOR",
               "KW": "KWT",
               "KY": "CYM",
               "KZ": "KAZ",
               "LA": "LAO",
               "LB": "LBN",
               "LC": "LCA",
               "LI": "LIE",
               "LK": "LKA",
               "LR": "LBR",
               "LS": "LSO",
               "LT": "LTU",
               "LU": "LUX",
               "LV": "LVA",
               "LY": "LBY",
               "MA": "MAR",
               "MC": "MCO",
               "MD": "MDA",
               "ME": "MNE",
               "MG": "MDG",
               "MH": "MHL",
               "MI": "MID",
               "MK": "MKD",
               "ML": "MLI",
               "MM": "MMR",
               "MN": "MNG",
               "MO": "MAC",
               "MP": "MNP",
               "MQ": "MTQ",
               "MR": "MRT",
               "MS": "MSR",
               "MT": "MLT",
               "MU": "MUS",
               "MV": "MDV",
               "MW": "MWI",
               "MX": "MEX",
               "MY": "MYS",
               "MZ": "MOZ",
               "NA": "NAM",
               "NC": "NCL",
               "NE": "NER",
               "NF": "NFK",
               "NG": "NGA",
               "NH": "NHB",
               "NI": "NIC",
               "NL": "NLD",
               "NO": "NOR",
               "NP": "NPL",
               "NQ": "ATN",
               "NR": "NRU",
               "NT": "NTZ",
               "NU": "NIU",
               "NZ": "NZL",
               "OM": "OMN",
               "PA": "PAN",
               "PC": "PCI",
               "PE": "PER",
               "PF": "PYF",
               "PG": "PNG",
               "PH": "PHL",
               "PK": "PAK",
               "PL": "POL",
               "PM": "SPM",
               "PN": "PCN",
               "PR": "PRI",
               "PS": "PSE",
               "PT": "PRT",
               "PU": "PUS",
               "PW": "PLW",
               "PY": "PRY",
               "PZ": "PCZ",
               "QA": "QAT",
               "RE": "REU",
               "RH": "RHO",
               "RO": "ROU",
               "RS": "SRB",
               "RU": "RUS",
               "RW": "RWA",
               "SA": "SAU",
               "SB": "SLB",
               "SC": "SYC",
               "SD": "SDN",
               "SE": "SWE",
               "SG": "SGP",
               "SH": "SHN",
               "SI": "SVN",
               "SJ": "SJM",
               "SK": "SVK",
               "SL": "SLE",
               "SM": "SMR",
               "SN": "SEN",
               "SO": "SOM",
               "SR": "SUR",
               "ST": "STP",
               "SU": "SUN",
               "SV": "SLV",
               "SY": "SYR",
               "SZ": "SWZ",
               "TC": "TCA",
               "TD": "TCD",
               "TF": "ATF",
               "TG": "TGO",
               "TH": "THA",
               "TJ": "TJK",
               "TK": "TKL",
               "TL": "TLS",
               "TM": "TKM",
               "TN": "TUN",
               "TO": "TON",
               "TP": "TMP",
               "TR": "TUR",
               "TT": "TTO",
               "TV": "TUV",
               "TW": "TWN",
               "TZ": "TZA",
               "UA": "UKR",
               "UG": "UGA",
               "UM": "UMI",
               "US": "USA",
               "UY": "URY",
               "UZ": "UZB",
               "VA": "VAT",
               "VC": "VCT",
               "VD": "VDR",
               "VE": "VEN",
               "VG": "VGB",
               "VI": "VIR",
               "VN": "VNM",
               "VU": "VUT",
               "WF": "WLF",
               "WS": "WSM",
               "XA": "INT",
               "XE": "EUR",
               "XX": "INC",
               "YD": "YMD",
               "YE": "YEM",
               "YT": "MYT",
               "YU": "YUG",
               "ZA": "ZAF",
               "ZM": "ZMB",
               "ZR": "ZAR",
               "ZW": "ZWE"
            }
         }
      },
      "$text": {
         "get": [
            "title",
            "date",
            "platform_name",
            "login",
            "rtype",
            "mime",
            "print_identifier",
            "online_identifier",
            "title_id",
            "doi",
            "publication_title",
            "unitid",
            "domain",
            "geoip-country"
         ],
         "join": "|"
      }
   },
   "display": {
      "fields": {
         "content.json.date": "date",
         "content.json.login": "login",
         "content.json.platform": "platform",
         "content.json.platform_name": "platform_name",
         "content.json.rtype": "rtype",
         "content.json.mime": "mime",
         "content.json.print_identifier": "print_identifier",
         "content.json.online_identifier": "online_identifier",
         "content.json.title_id": "title_id",
         "content.json.doi": "doi",
         "content.json.publication_title": "publication_title",
         "content.json.unitid": "unitid",
         "content.json.domain": "domain",
         "geoip-country": "geoip-country",
         "content.json.geoip-latitude": "geoip-latitude",
         "content.json.geoip-longitude": "geoip-longitude",
         "content.json.host": "host",
         "content.json.identd": "identd",
         "content.json.url": "url",
         "content.json.status": "status"
      },
      "fieldsPerPage": 50
   },
   "pages": {
      "index": {
         "title": "Tableau de bord",
         "description": "Tableau de bord de l'étude",
         "help": " "
      },
      "chart": {
         "title": "Représentations graphiques",
         "description": "Détails de l'étude"
      },
      "documents": {
         "title": "Logs",
         "description": "Logs ezPAARSE",
         "help": "Logs ezPAARSE. Accès au log détaillé en cliquant sur un des champs."
      },
      "fields": {
         "title": "Champs",
         "description": "Intitulés des champs du fichier csv",
         "help": "Champs du fichier csv (en jason) avec leurs nombres d'occurences"
      },
      "display": {
         "title": "Log",
         "description": "Log"
      }
   },
   "dashboard": {
      "charts": [
         {
            "field": "content.json.date",
            "type": "histogram",
            "title": "Consultation par date",
            "color": "#5AB9C1",
            "size": {
               "height": 440
            },
            "facets": [
               {
                  "path": "domain",
                  "label": "Domaine"
               },
               {
                  "path": "login",
                  "label": "Login"
               }
            ]
         },
         {
            "field": "content.json.rtype",
            "type": "pie",
            "title": "Type de consultation",
            "colors": [
               "#5AB9C1",
               "#6699CC",
               "#645AC1",
               "#985AC1",
               "#C55CA2",
               "#D56368",
               "#D88D65",
               "#D8A765",
               "#D8BE65",
               "#D8D565",
               "#B7CE60",
               "#64C25B"
            ],
            "legend": {
               "position": "bottom"
            },
            "size": {
               "height": 300,
               "columns": 6
            }
         },
         {
            "field": "mime",
            "type": "pie",
            "title": "Format de consultation",
            "colors": [
               "#5AB9C1",
               "#6699CC",
               "#645AC1",
               "#985AC1",
               "#C55CA2",
               "#D56368",
               "#D88D65",
               "#D8A765",
               "#D8BE65",
               "#D8D565",
               "#B7CE60",
               "#64C25B"
            ],
            "legend": {
               "position": "bottom"
            },
            "size": {
               "height": 300,
               "columns": 5,
               "offset": 1
            },
            "facets": [
               {
                  "path": "content.json.date",
                  "label": "Date"
               },
               {
                  "path": "rtype",
                  "label": "Type"
               }
            ]
         },
         {
            "field": "content.json.platform_name",
            "type": "horizontalbars",
            "title": "Consultation par plateforme",
            "maxItems": 50,
            "color": "#985AC1",
            "legend": {
               "show": false
            },
            "size": {
               "height": 700,
               "columns": 6
            },
            "facets": [
               {
                  "path": "content.json.rtype",
                  "label": "Type"
               },
               {
                  "path": "mime",
                  "label": "Format"
               }
            ]
         },
         {
            "field": "content.json.domain",
            "type": "horizontalbars",
            "title": "Consultation par domaine",
            "maxItems": 50,
            "color": "#645AC1",
            "legend": {
               "show": false
            },
            "size": {
               "height": 700,
               "columns": 5,
               "offset": 1
            },
            "facets": [
               {
                  "path": "content.json.rtype",
                  "label": "Type"
               },
               {
                  "path": "mime",
                  "label": "Format"
               }
            ]
         },
         {
            "field": "content.json.login",
            "type": "horizontalbars",
            "title": "Login des consultants",
            "maxItems": 50,
            "color": "#C55CA2",
            "legend": {
               "show": false
            },
            "size": {
               "height": 900,
               "columns": 6
            },
            "facets": [
               {
                  "path": "content.json.rtype",
                  "label": "Type"
               },
               {
                  "path": "mime",
                  "label": "Format"
               }
            ]
         },
         {
            "field": "content.json.print_identifier",
            "type": "horizontalbars",
            "title": "Consultation par journal",
            "maxItems": 50,
            "color": "#64C25B",
            "legend": {
               "show": false
            },
            "size": {
               "height": 900,
               "columns": 5,
               "offset": 1
            },
            "facets": [
               {
                  "path": "content.json.rtype",
                  "label": "Type"
               },
               {
                  "path": "mime",
                  "label": "Format"
               }
            ]
         },
         {
            "type": "map",
            "fields": [
               "PaysCarto"
            ],
            "title": "Pays - Cartographie",
            "help": "Répartition des publications par pays",
            "colors": {
               "scale": "OrRd",
               "distrib": "log"
            },
            "facets": [
               {
                  "path": "content.json.rtype",
                  "label": "Type"
               },
               {
                  "path": "mime",
                  "label": "Format"
               },
               {
                  "path": "geoip-country",
                  "label": "geoip-country"
               }
            ]
         }
      ]
   },
   "corpusFields": {
      "$nblogs": {
         "visible": true,
         "label": "événement(s) de consultation",
         "icon": "globe",
         "$?": "local:///compute.json?operator=count&field=wid",
         "parseJSON": true,
         "get": "data.0.value",
         "cast": "number"
      },
      "$dates": {
         "default": 0,
         "$?": "local:///compute.json?operator=distinct&field=dateSansTiret",
         "parseJSON": true,
         "select": ".data ._id",
         "foreach": {
            "cast": "number"
         }
      },
      "$dateDebut": {
         "get": "dates",
         "min": true
      },
      "$dateFin": {
         "get": "dates",
         "max": true
      },
      "$period": {
         "visible": true,
         "template": "Du {{dateDebut}} au {{dateFin}}",
         "icon": "calendar"
      }
   },
   "id": "ezpaarse_anonym_1503",
   "collectionName": "ezpaarse_anonym_1503",
   "data_path": "/applis/madec2/home/instances/ezpaarse_anonym_1503",
   "date": "2015/03/23",
   "port": 35269,
   "users": [
      {
         "email": "admin@castorjs.org",
         "role": "admin"
      }
   ],
   "app": "ezvis-6.2.0"
}